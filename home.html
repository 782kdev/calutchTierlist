<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rankings ‚Äî Player Add</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
<style>
:root{
  --bg:#0f1720;
  --panel:#0f2430;
  --muted:#9aa6b2;
  --accent:#ffd166;
  --pill-bg: rgba(255,255,255,0.03);
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:"Inter",system-ui;
  background: linear-gradient(180deg,#071018 0%, #07161c 100%);
  color:#dbe6ef;
  padding:28px;
}
.topbar {display:flex;align-items:center;gap:18px;margin-bottom:22px;}
.logo {font-weight:800;color:var(--accent);}
.nav-right {margin-left:auto;display:flex;align-items:center;gap:10px;}
.search {background:rgba(255,255,255,0.03);padding:8px 12px;border-radius:12px;}
.search input{background:transparent;border:0;outline:0;color:inherit;}
.admin-btn{
  background:var(--accent);
  color:#0f1720;
  padding:6px 10px;
  border-radius:8px;
  font-weight:700;
  cursor:pointer;
}
.tabs {display:flex;gap:8px;margin:18px 0 22px 0;}
.tab{background:var(--panel);padding:10px 14px;border-radius:12px;color:var(--muted);font-weight:700;cursor:pointer;}
.tab.active{background: linear-gradient(90deg, rgba(255,209,102,0.12), rgba(255,209,102,0.04));color:var(--accent);}
.panel{background:rgba(255,255,255,0.01);padding:18px;border-radius:12px;}
.leaderboard-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:8px;}
.lead-h1{font-size:20px;font-weight:800;}
.lead-sub{color:var(--muted);font-size:13px}
.rank-list {margin-top:10px}
.add-btn{
  display:inline-block;
  margin-top:12px;
  background:var(--accent);
  color:#0f1720;
  font-weight:700;
  padding:8px 14px;
  border-radius:8px;
  cursor:pointer;
  text-decoration:none;
}
.rank-row{
  display:flex;align-items:center;gap:12px;
  padding:14px;
  background:rgba(255,255,255,0.02);
  border-radius:10px;
  margin-bottom:10px;
}
.avatar{
  width:56px;height:56px;border-radius:10px;overflow:hidden;flex-shrink:0;
  background:#222;
}
.avatar img{width:100%;height:100%;object-fit:cover}
.player-meta{flex:1;}
.player-name{font-size:18px;font-weight:700;color:#e6f3ff;}
.region{
  padding:6px 8px;
  border-radius:8px;
  background:var(--pill-bg);
  color:var(--muted);
  font-weight:700;
  margin-left:8px;
}
.tiers{display:flex;gap:8px;}
.tier {
  width:36px; height:36px; border-radius:50%;
  background:rgba(255,255,255,0.02);
  display:flex;align-items:center;justify-content:center;
  font-weight:700;font-size:12px;color:var(--muted);
  border:1px solid rgba(255,255,255,0.03);
}
.actions button{
  background:var(--panel);
  border:none;
  color:var(--muted);
  padding:6px 10px;
  margin-left:6px;
  border-radius:6px;
  cursor:pointer;
}
.actions button:hover{
  background:rgba(255,255,255,0.05);
}
.modal{
  position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.6);
  display:none;align-items:center;justify-content:center;
}
.modal-content{
  background:#1a2530;padding:20px;border-radius:10px;width:300px;
}
.modal-content h2{margin-top:0}
.modal-content label{display:block;margin:8px 0 4px}
.modal-content input, .modal-content select{
  width:100%;padding:6px;border-radius:6px;border:none;
  margin-bottom:10px;
}
.modal-content button{
  background:var(--accent);color:#0f1720;font-weight:700;
  padding:8px 12px;border:none;border-radius:6px;cursor:pointer;
}
</style>
</head>
<body>
<div class="container">
  <header class="topbar">
    <div class="logo">METIERS</div>
    <div class="nav-right">
      <div class="search"><input placeholder="Search player..." /></div>
      <button class="admin-btn" id="adminLoginBtn">Admin</button>
    </div>
  </header>
  <div class="tabs">
    <div class="tab active">üèÜ Overall</div>
  </div>
  <section class="panel">
    <div class="leaderboard-header">
      <div>
        <div class="lead-h1">Rankings ‚Äî Overall</div>
        <div class="lead-sub">Top players across all modes</div>
      </div>
      <div>
        <span style="background:var(--panel);padding:6px 10px;border-radius:10px;">Server IP: <b>mcpvp.club</b></span>
      </div>
    </div>
    <div class="rank-list" id="rankList"></div>
    <a href="#" class="add-btn" id="addPlayerBtn" style="display:none;">+ Add Player</a>
  </section>
</div>

<!-- Modal Form -->
<div class="modal" id="playerModal">
  <div class="modal-content">
    <h2 id="modalTitle">Add Player</h2>
    <label>Username</label>
    <input type="text" id="username" required>
    <label>Region</label>
    <select id="region">
      <option>NA</option>
      <option>EU</option>
      <option>AS</option>
    </select>
    <label>Skin URL (.png)</label>
    <input type="url" id="skinUrl" placeholder="https://...png" required>
    <label>Crystal Tier</label>
    <input type="text" id="crystalTier" placeholder="e.g., HT1" required>
    <button id="savePlayer">Save</button>
  </div>
</div>

<script>
const addBtn = document.getElementById('addPlayerBtn');
const modal = document.getElementById('playerModal');
const saveBtn = document.getElementById('savePlayer');
const rankList = document.getElementById('rankList');
const modalTitle = document.getElementById('modalTitle');
const adminBtn = document.getElementById('adminLoginBtn');

let editIndex = null;

function isAdmin() {
  return localStorage.getItem('isAdmin') === 'true';
}

function renderPlayers() {
  rankList.innerHTML = '';
  const players = JSON.parse(localStorage.getItem('players') || '[]');
  if(players.length === 0){
    rankList.innerHTML = '<div style="color:#9aa6b2;text-align:center;padding:12px;">No players yet</div>';
  } else {
    players.forEach((player, index)=>{
      const row = document.createElement('div');
      row.className = 'rank-row';
      row.innerHTML = `
        <div class="avatar"><img src="${player.skinUrl}" alt="${player.username} skin"></div>
        <div class="player-meta">
          <div class="player-name">${player.username} <span class="region">${player.region}</span></div>
        </div>
        <div class="tiers"><div class="tier">${player.tier}</div></div>
        ${isAdmin() ? `<div class="actions">
          <button onclick="editPlayer(${index})">‚úèÔ∏è</button>
          <button onclick="removePlayer(${index})">üóëÔ∏è</button>
        </div>` : ''}
      `;
      rankList.appendChild(row);
    });
  }
  addBtn.style.display = isAdmin() ? 'inline-block' : 'none';
}

function openModal(edit=false){
  modal.style.display='flex';
  if(edit){
    modalTitle.textContent = 'Edit Player';
  } else {
    modalTitle.textContent = 'Add Player';
    document.getElementById('username').value='';
    document.getElementById('skinUrl').value='';
    document.getElementById('crystalTier').value='';
    document.getElementById('region').value='NA';
  }
}

function editPlayer(index){
  const players = JSON.parse(localStorage.getItem('players') || '[]');
  const player = players[index];
  editIndex = index;
  document.getElementById('username').value=player.username;
  document.getElementById('region').value=player.region;
  document.getElementById('skinUrl').value=player.skinUrl;
  document.getElementById('crystalTier').value=player.tier;
  openModal(true);
}

function removePlayer(index){
  const players = JSON.parse(localStorage.getItem('players') || '[]');
  players.splice(index, 1);
  localStorage.setItem('players', JSON.stringify(players));
  renderPlayers();
}

addBtn.addEventListener('click', e=>{
  e.preventDefault();
  editIndex = null;
  openModal(false);
});

saveBtn.addEventListener('click', ()=>{
  const username = document.getElementById('username').value.trim();
  const region = document.getElementById('region').value;
  const skinUrl = document.getElementById('skinUrl').value.trim();
  const tier = document.getElementById('crystalTier').value.trim();

  if(!username || !skinUrl || !tier) return alert('Please fill all fields');

  const players = JSON.parse(localStorage.getItem('players') || '[]');

  if(editIndex !== null){
    players[editIndex] = {username, region, skinUrl, tier};
  } else {
    players.push({username, region, skinUrl, tier});
  }
  localStorage.setItem('players', JSON.stringify(players));

  renderPlayers();
  modal.style.display='none';
  editIndex = null;
});

modal.addEventListener('click', e=>{
  if(e.target === modal) modal.style.display='none';
});

adminBtn.addEventListener('click', ()=>{
  if(isAdmin()){
    if(confirm("Log out of admin mode?")){
      localStorage.removeItem('isAdmin');
      renderPlayers();
    }
  } else {
    const pass = prompt("Enter admin password:");
    if(pass === "clutchadmin112"){
      localStorage.setItem('isAdmin', 'true');
      renderPlayers();
    } else {
      alert("Incorrect password");
    }
  }
});

renderPlayers();
</script>
</body>
</html>
